---
import type { CardConfig } from "../../../lib/types/layout";
import CardBase from "../cards/CardBase.astro";

interface Props {
  cards: CardConfig[];
}

const { cards } = Astro.props;

function sizeToStyle(size: CardConfig["size"]) {
  switch (size) {
    case "1x1":
      return "grid-column: span 1; grid-row: span 1;";
    case "1x2":
      return "grid-column: span 1; grid-row: span 2;";
    case "2x1":
      return "grid-column: span 2; grid-row: span 1;";
    case "2x2":
      return "grid-column: span 2; grid-row: span 2;";
    default:
      return "grid-column: span 1; grid-row: span 1;";
  }
}
---

<div class="grid">
  {cards.map((card) => (
    <div style={sizeToStyle(card.size)}>
      <CardBase config={card} />
    </div>
  ))}
</div>

<style>
.grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  grid-auto-rows: 220px;
  gap: 28px;
  padding: 60px;
}
</style>
