---
import type { CardConfig } from "../../../lib/types/layout";

import TextCard from "./TextCard.astro";
import MediaCard from "./MediaCard.astro";
import StickerCard from "./StickerCard.astro";
import HeroCard from "./HeroCard.astro";
import PostListCard from "./PostListCard.astro";

interface Props {
  config: CardConfig;
}

const { config } = Astro.props;

const rotation = config.styles?.rotation ?? 0;
const background = config.styles?.background;
const textColor = config.styles?.textColor;
const gridSize = config.gridSize ?? "1x1";
---

<div
  class={`card size-${gridSize}`}
  style={`
    ${background ? `background:${background};` : ""}
    ${textColor ? `color:${textColor};` : ""}
    --rotation:${rotation}deg;
  `}
>
  {config.variant === "text" && <TextCard config={config} />}
  {config.variant === "media" && <MediaCard config={config} />}
  {config.variant === "sticker" && <StickerCard config={config} />}
  {config.variant === "hero" && <HeroCard config={config} />}
  {config.variant === "post-list" && <PostListCard config={config} />}
</div>
